{% extends 'base.html' %}
{% load static %}
{% block title %} Delete recipe {% endblock%}
{% block content %}

{% load crispy_forms_tags %}
<h1>Delete: {{recipe.title }} </h1>
<div class="text-center">
    <!-- Restrict page access to authorized users -->
    {% if user.is_authenticated %}
        <!-- Restrict recipe delete to authors only -->
        {% if user == recipe.author %}
            <div class="form-group">
                <form method="POST" action="{% url 'deleterecipe' pk=recipe.pk %}">
                    {% csrf_token %}
                    <strong>Are you sure you want to delete this recipe?</strong><br><br>
                    <button>Yes</button>
                    <a href="{% url 'home' %}" class="btn btn-secondary mt-4">No</a>
                </form>
            </div>

            {% else %}

                <div class="text-center">
                
                    <p>You can only <strong>delete</strong> the posts you created.</p>
                    <a href="{% url 'home' %}" class="btn btn-secondary">Home</a>
                </div>

       {% endif %}

    {% else %}

        <div class="text-center">
            You cannot delete a post here. 
            <br>
            Sign Up to become a member of the community.
        </div>

    {% endif %}
</div>



{% endblock %}